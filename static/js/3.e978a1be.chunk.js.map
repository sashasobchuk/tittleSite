{"version":3,"sources":["Components/File/file.module.css","Components/File/fullFoto/fullFoto.module.css","Components/File/PopUp/popUp.module.css","acces/Paginator/paginator.module.css","Components/File/fileItem.jsx","Components/File/fullFoto/FullFile.js","Components/File/PopUp/PopUp.jsx","Components/File/AddFileItem.jsx","acces/Paginator/Paginator.js","Components/File/File.jsx"],"names":["module","exports","FileItem","props","useState","inputValue","changeInputValue","dispatch","useDispatch","isAuth","useSelector","state","header","role","addCommentHandler","addComment_T","item","_id","thisuUser_storage_id","localStorage","getItem","fileSrc","image_Url_Name","File","fileType","className","clas","file","onClick","e","showFullFile","index","src","alt","width","controls","loading","Preloader","fotoItem","tittleFolder","tittle","deleteItem","DeleteItem_T","downItemFolder","fileComments","map","comment","status","user_storage_id","oneComentFolder","commentValue","value","BTNrightComment","commentId","DeleteComment_T","id","changeCommentStatus","inputFolder","input","type","placeholder","onKeyDown","key","enterAddComment","onChange","currentTarget","ChangeInputHandler","btnADD","FullFile","display","filePage","FullFIleDisplay","number","fullFileItem","fileItems","imgSrc","undefined","container","style","leftPoint","toLeftFoto","img","rightPoint","toRightFoto","exit","hideFullFile","PopUp","fileTittle","newFileTittle","popupDisplay","closePopUpHandeler","closePopUp","popUp","downloadFotoIcon","close","inputFile","multiple","event","i","target","files","length","MakeNewItem","onclickImgHandler","AddFileItem","changeTittle","fotoItemDownload","image_upload","imgDiv","changeNewFileTittle","showePopUp","inputTittle","Paginator","totalItemsCount","sortType","changeSortTypeHandler","ReduceRequestPage","reducerPageSize","pageZise","changePageSize","pagesCount","Math","ceil","pages","push","portionCount","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","requestPage","changerequestPage","page","useParams","changePageSizeHandler","newPageSize","Number","timerId","makeChangeWithTime","clearTimeout","setTimeout","done","OnPageChange","makeChange","startPageNumber","useHistory","location","pathname","split","changeLoading","DownloadFilePage","useEffect","setRequestPage","pagintotrFolder","leftItem","itemValue","inp","numberPages","filter","p","numberOneActivPages","numberOnePages","to","String","PageSize","fotoPage","navContainer","newSortType","alert","changeSortType","itemContainer"],"mappings":"mFACAA,EAAOC,QAAU,CAAC,SAAW,uBAAuB,cAAgB,4BAA4B,SAAW,uBAAuB,iBAAmB,+BAA+B,aAAe,2BAA2B,OAAS,qBAAqB,KAAO,mBAAmB,aAAe,2BAA2B,WAAa,yBAAyB,YAAc,0BAA0B,MAAQ,oBAAoB,aAAe,2BAA2B,OAAS,qBAAqB,eAAiB,6BAA6B,YAAc,0BAA0B,gBAAkB,8BAA8B,gBAAkB,8BAA8B,KAAO,mBAAmB,aAAe,6B,oBCAjtBD,EAAOC,QAAU,CAAC,UAAY,4BAA4B,IAAM,sBAAsB,UAAY,4BAA4B,WAAa,6BAA6B,KAAO,yB,oBCA/KD,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,IAAM,mBAAmB,MAAQ,qBAAqB,UAAY,2B,oBCAjHD,EAAOC,QAAU,CAAC,gBAAkB,mCAAmC,KAAO,wBAAwB,SAAW,4BAA4B,UAAY,6BAA6B,IAAM,uBAAuB,YAAc,+BAA+B,eAAiB,kCAAkC,oBAAsB,uCAAuC,SAAW,8B,2GCuG5WC,EA5FE,SAAC,GAAa,IAAZC,EAAW,EAAXA,MAAW,EACaC,mBAAS,WADtB,mBACnBC,EADmB,KACPC,EADO,KAEpBC,EAAWC,cACXC,EAASC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,OAAOH,UAC3CI,EAAOH,aAAY,SAAAC,GAAK,OAAIA,EAAMC,OAAOC,QAYzCC,EAAoB,WACtBP,EAASQ,YAAaV,EAAYF,EAAMa,KAAKC,MAE7CX,EAAiB,KAiBjBY,EAAuBC,aAAaC,QAAQ,UAI1CC,EAAUlB,EAAMa,KAAKM,eAErBC,EAAO,WACT,MACuB,SAAnBpB,EAAMqB,SACA,qBAAMC,UAAWC,IAAKC,KAAMC,QAAS,SAACC,GAdhDtB,EAASuB,YAAa3B,EAAM4B,SAckDC,IAAKX,EAASY,IAAI,SACtF,uBAAOC,MAAM,OAAOC,UAAQ,EAACV,UAAWC,IAAKC,KAAMK,IAAKX,KAIhEM,GAA2B,IAAlBxB,EAAMiC,QAAmB,cAACC,EAAA,EAAD,IAAc,cAACd,EAAD,IAGtD,OACI,mCACI,sBAAKE,UAAWC,IAAKY,SAArB,UACI,qBAAKb,UAAWC,IAAKa,aAArB,SAAmC,sBAAMd,UAAWC,IAAKc,OAAtB,SAA+BrC,EAAMa,KAAKwB,WAC5Eb,EACS,UAATd,GAAoB,wBAAQY,UAAWC,IAAKe,WAAYb,QAhCvC,WAC1BrB,EAASmC,YAAavC,EAAMa,KAAKC,IAAId,EAAMqB,YA+Bd,eAGrB,sBAAKC,UAAWC,IAAKiB,eAArB,UACKxC,EAAMa,KAAK4B,aAAaC,KAAI,SAACC,GAAD,OAAcA,EAAQC,QAAUD,EAAQE,kBAAoB9B,GAAiC,UAATL,IAC7G,sBAAuBY,UAAWC,IAAKuB,gBAAvC,UACS,qBAAKxB,UAAWC,IAAKwB,aAArB,SAAoCJ,EAAQK,SAI9CL,EAAQE,kBAAoB9B,GAAyBT,IACxD,sBAAKgB,UAAWC,IAAK0B,gBAArB,UACc,UAATvC,GACD,wBAAQe,QAAS,kBAhDfyB,EAgD0CP,EAAQ7B,SA/C5EV,EAAS+C,YAAgBD,EAAWlD,EAAMa,KAAKC,MADtB,IAACoC,GAgDF,eACU,UAATxC,GACD,wBAAQe,QAAS,kBAxChB2B,EAwC0CT,EAAQ7B,IAxC9C8B,EAwCmDD,EAAQC,YAvCxFxC,EAASiD,YAAoBD,EAAIR,IADT,IAACQ,EAAIR,GAwCL,SACKD,EAAQC,OAAS,QAAU,gBAX9BD,EAAQ7B,QAiBtB,sBAAKQ,UAAWC,IAAK+B,YAArB,UACI,uBAAOhC,UAAWC,IAAKgC,MAAOC,KAAK,OAAOC,YAAY,UAAUT,MAAO9C,EAChEwD,UAAW,SAAChC,GAAD,OAxEd,SAACA,GAEP,UAAVA,EAAEiC,KACFhD,IAqEqCiD,CAAgBlC,IAClCmC,SAAU,SAACnC,GAAD,OA9EV,SAACA,GACxBvB,EAAiBuB,EAAEoC,cAAcd,OA6EOe,CAAmBrC,MAC3C,wBAAQJ,UAAWC,IAAKyC,OAAQvC,QAAS,kBAAMd,KAA/C,8B,kBC7DTsD,G,MA7BE,SAAC,GAAa,IAAZjE,EAAW,EAAXA,MAETkE,EAAU3D,aAAY,SAAAC,GAAK,OAAIA,EAAM2D,SAASC,mBAC9CC,EAAS9D,aAAY,SAAAC,GAAK,OAAIA,EAAM2D,SAASG,gBAE/CzD,EAAOb,EAAMuE,UAAUF,GAEvBG,OAAgBC,IAAP5D,EAAkBA,EAAKM,eAAiB,GACjDf,EAAWC,cAWf,OACI,sBAAKiB,UAAWC,IAAKmD,UAAWC,MAAO,CAACT,QAAUA,EAAU,OAAS,QAArE,UACI,yBAAQ5C,UAAWC,IAAKqD,UAAWnD,QAZ5B,WACNrB,EAASyE,gBAWV,cAAsD,IAAtD,OACA,qBAAKvD,UAAWC,IAAKuD,IAAKjD,IAAK2C,EAAQ1C,IAAI,KAC3C,yBAAQR,UAAWC,IAAKwD,WAAYtD,QAX5B,WACRrB,EAAS4E,gBAUT,cAAwD,IAAxD,OACA,wBAAS1D,UAAWC,IAAK0D,KAAMxD,QATnB,WAChBrB,EAAS8E,gBAQL,oB,0BCKGC,EA5BD,SAAC,GAAa,IAAZnF,EAAW,EAAXA,MACNI,EAAWC,cACX+E,EAAa7E,aAAY,SAAAC,GAAK,OAAIA,EAAM2D,SAASkB,iBACjDC,EAAe/E,aAAY,SAAAC,GAAK,OAAIA,EAAM2D,SAASmB,gBAEnDC,EAAqB,WACvBnF,EAASoF,YAAW,UAUxB,OACI,mCACI,sBAAKlE,UAAWC,IAAKkE,MAAOd,MAAO,CAACT,QAASoB,GAA7C,UACI,qBAAKhE,UAAWC,IAAKuD,IAAKjD,IAAK6D,IAAkB5D,IAAI,UACrD,uBAAOR,UAAWC,IAAKoE,MAAOlE,QAAS8D,EAAoBvC,MAAM,IAAIQ,KAAK,WAC1E,uBAAOlC,UAAWC,IAAKqE,UAAYC,UAAU,EAAMrC,KAAK,OAAOK,SAAW,SAAAiC,GAAK,OAbjE,SAACpE,GAEvB,IAAM,IAAIqE,EAAI,EAAEA,EAAErE,EAAEsE,OAAOC,MAAMC,OAASH,IACtC3F,EAAS+F,YAAYzE,EAAEsE,OAAOC,MAAMF,GAAIX,EAAWpF,EAAMqB,WAE7DkE,IAQ2Fa,CAAkBN,YCKtGO,EAzBK,WAChB,IAAMjG,EAAWC,cADK,EAGEJ,mBAAS,IAHX,mBAGpBoC,EAHoB,KAGbiE,EAHa,KAatB,OAAQ,mCACJ,sBAAKhF,UAAWC,IAAKgF,iBAArB,UACI,qBAAKjF,UAAWC,IAAKiF,aAArB,SACI,qBAAKlF,UAAWC,IAAKkF,OAAQ1E,MAAM,OAAOF,IAAK6D,IAAkB5D,IAAI,OACrEL,QAZW,WAEnBrB,EAAWsG,YAAoBrE,IAG/BjC,EAASuG,YAAW,cAShB,uBAAOrF,UAAWC,IAAKqF,YAAapD,KAAK,OAAOR,MAAOX,EAAQwB,SAAU,SAACnC,GAAD,OAAK4E,EAAa5E,EAAEsE,OAAOhD,gB,wCC+GjG6D,EAnIG,SAAC,GAUf,IAV4B,IAAZ7G,EAAW,EAAXA,MACZI,EAAWC,cADY,iBAGmBL,GADzC8G,EAFsB,EAEtBA,gBAAiBzF,EAFK,EAELA,SAAU0F,EAFL,EAEKA,SAAUC,EAFf,EAEeA,sBACtCC,EAHuB,EAGvBA,kBAAmBC,EAHI,EAGJA,gBAHI,EAIMjH,mBAASiH,GAJf,mBAItBC,EAJsB,KAIZC,EAJY,KAOvBC,EAAaC,KAAKC,KAAKT,EAAkBK,GAEvCK,EAAQ,GACLzB,EAAI,EAAGA,GAAKsB,EAAYtB,IAC7ByB,EAAMC,KAAK1B,GAGf,IAAI2B,EAAeJ,KAAKC,KAAKF,EATX,IALS,EAeapH,mBAAS,GAftB,mBAetB0H,EAfsB,KAePC,EAfO,KAgBvBC,EAXc,IAWWF,EAAgB,GAAmB,EAC5DG,EAZc,GAYWH,EAjBF,EAkBY1H,mBAASgH,GAlBrB,mBAkBtBc,EAlBsB,KAkBTC,EAlBS,KAmBtBC,EAAQC,cAARD,KAIL,SAASE,EAAsBC,GAEP,KADpBA,EAAcC,OAAOD,MAEjBA,EAAc,GAElB,IAAIE,EAAU,KAOd,SAASC,EAAmBH,GACxBI,aAAaF,GACbA,EAAUG,YAAW,WACjBC,GAAO,EARf,SAAoBN,GAChBhB,EAAegB,GACfO,EAAa,EAAGP,GAOZQ,CAAWR,KACZ,KAGP,IAAIM,GAAO,EACXH,EAAmBH,GACdM,IACDF,aAAaF,GACbC,EAAmBH,IAK3B,IAAIS,EAAqBR,OAAQS,cAAaC,SAASC,SAASC,MAAM,KAAK,IAErEN,EAAe,SAACZ,EAAaZ,GAChC/G,EAAU8I,aAAc,IACvBlB,EAAkBD,GAClBV,EAAcC,KAAKC,KAAKT,EAAkBK,GAC1C/G,EAAS+I,YAAiB9H,EAAU0F,GAAY8B,EAAkB,GAAK1B,EAAWA,IAClF/G,EAAU8I,aAAc,KAc5B,OAVAE,qBAAU,WACNhJ,EAAU8I,aAAc,IAExB9I,EAASiJ,YAAkC,IAAnBR,EAAqB,EAAEA,IAE/CF,EAAaZ,EAAaZ,KAG3B,CAAC/G,EAASiB,EAAS0F,EAASgB,EAAYZ,IAEpC,sBAAK7F,UAAWC,IAAK+H,gBAArB,UACH,sBAAKhI,UAAWC,IAAKgI,SAArB,UAEI,2IAAyB,sBAAMjI,UAAWC,IAAKiI,UAAtB,SAAkCnC,OAE3D,0HAAsB,sBAAM/F,UAAWC,IAAKiI,UAAtB,SAClB,uBAAOlI,UAAWC,IAAKkI,IAChBzG,MAAOmE,EACP3D,KAAK,SAASC,YAAY,mFAC1BI,SAAU,SAAAiC,GAAK,OAAIqC,EAAsBrC,EAAMhC,cAAcd,kBAM5E,sBAAK1B,UAAWC,IAAKV,KAArB,UACK8G,EAAgB,GAAK,wBAAQrG,UAAWC,IAAKkI,IAAKhI,QAAS,WACxDmG,EAAiBD,EAAgB,IADf,kBAGtB,qBAAKrG,UAAWC,IAAKmI,YAArB,SACKlC,EACImC,QAAO,SAACC,GAAD,OAAOA,GAAK/B,GAAyB+B,GAAK9B,KACjDpF,KAAI,SAACkH,GACF,OACI,cAAC,IAAD,CACInI,QAAS,SAACC,GAAOiH,EAAaiB,EAAGzC,IACjC7F,UAAWsI,IAAMvB,OAAQJ,GAAQ1G,IAAKsI,oBAAsBtI,IAAKuI,eAC/DC,GAAI,QAAUC,OAAOJ,GAH3B,SAIA,8BACSA,KALEA,QAcvBlC,EAAeC,GACf,wBAAQrG,UAAWC,IAAKkI,IAAKhI,QAAS,WAClCmG,EAAiBD,EAAgB,IADrC,qBAKR,sBAAKrG,UAAWC,IAAKV,KAArB,iFAEI,qBAAKS,UAAWC,IAAKwF,SAAUtF,QAASuF,EAAxC,SACI,iCACkB,QAAbD,EAAqB,gGAA0B,qGC7DrD3F,UA1DF,SAAC,GAAa,IACnBC,EADkB,EAAXrB,MACUqB,SAGfkD,EAAahE,aAAY,SAAAC,GAAK,OAAIA,EAAM2D,SAASI,aACjDwC,EAAYxG,aAAY,SAAAC,GAAK,OAAIA,EAAM2D,SAAS4C,YAChD9E,EAAW1B,aAAY,SAAAC,GAAK,OAAIA,EAAM2D,SAASlC,WAE/C6E,EAAmBvG,aAAY,SAAAC,GAAK,OAAIA,EAAM2D,SAAS2C,mBACvDmD,EAAY1J,aAAY,SAAAC,GAAK,OAAIA,EAAM2D,SAAS8F,YAChDlC,EAAexH,aAAY,SAAAC,GAAK,OAAIA,EAAM2D,SAAS4D,eAGnD3H,EAAWC,cACXK,EAAOH,aAAY,SAAAC,GAAK,OAAIA,EAAMC,OAAOC,QAe/C,OAAO,mCACH,sBAAKY,UAAWC,IAAK2I,SAArB,UACI,qBAAK5I,UAAWC,IAAK4I,aAArB,SACI,cAAC,EAAD,CAAWnK,MAAO,CAAC8G,gBAAgBA,EAC9BqC,qBACD9H,SAASA,EACT0F,SAASA,EACTC,sBAlBc,WAC1B,IAAIoD,EACW,QAAZrD,EACCqD,EAAc,OACG,SAAZrD,EACLqD,EAAc,MACVC,MAAM,SACdjK,EAASkK,YAAeF,KAYZnD,kBAAkBc,EAClBb,gBAAgB+C,OAGvB1F,EAAU7B,KAAI,SAAC7B,EAAKe,GAAN,OACf,qBAAoBN,UAAWC,IAAKgJ,cAApC,SACKlJ,IAAaR,EAAKQ,UAAY,cAAC,EAAD,CAAWrB,MAAO,CAACa,OAAMe,QAAMP,WAASY,cADjEpB,EAAKC,QAKL,UAATJ,GACD,qBAAKY,UAAWC,IAAKgJ,cAArB,SACI,cAAC,EAAD,CAAavK,MAAO,CAACqB,gBAEzB,cAAC,EAAD,CAAQrB,MAAO,CAACqB,cAChB,cAAC,EAAD,CAAUrB,MAAO,CAACuE,YAAWlD","file":"static/js/3.e978a1be.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"fotoPage\":\"file_fotoPage__ziAB7\",\"itemContainer\":\"file_itemContainer__vcwgf\",\"fotoItem\":\"file_fotoItem__2iKJO\",\"fotoItemDownload\":\"file_fotoItemDownload__3RMPf\",\"tittleFolder\":\"file_tittleFolder__2qU-E\",\"tittle\":\"file_tittle__3v14P\",\"file\":\"file_file__1tP1J\",\"image_upload\":\"file_image_upload__1XXzJ\",\"deleteItem\":\"file_deleteItem__dqqQl\",\"inputFolder\":\"file_inputFolder__16kYu\",\"input\":\"file_input__2AfW_\",\"commentValue\":\"file_commentValue__bJgwT\",\"btnADD\":\"file_btnADD__2aAkp\",\"downItemFolder\":\"file_downItemFolder__3whjL\",\"inputTittle\":\"file_inputTittle__1CxAg\",\"oneComentFolder\":\"file_oneComentFolder__3d2FM\",\"BTNrightComment\":\"file_BTNrightComment__R6N0Y\",\"main\":\"file_main__3uq87\",\"navContainer\":\"file_navContainer__1u-9d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"fullFoto_container__1pGHK\",\"img\":\"fullFoto_img__1ucUH\",\"leftPoint\":\"fullFoto_leftPoint__2765a\",\"rightPoint\":\"fullFoto_rightPoint__zwGXk\",\"exit\":\"fullFoto_exit__M9qP1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"popUp\":\"popUp_popUp__1uil0\",\"img\":\"popUp_img__3AURE\",\"close\":\"popUp_close__3WKhE\",\"inputFile\":\"popUp_inputFile__1d79M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagintotrFolder\":\"paginator_pagintotrFolder__3iDLG\",\"item\":\"paginator_item__1XVUF\",\"leftItem\":\"paginator_leftItem__3Vr7k\",\"itemValue\":\"paginator_itemValue__15OO8\",\"inp\":\"paginator_inp__rhqup\",\"numberPages\":\"paginator_numberPages__mL4F9\",\"numberOnePages\":\"paginator_numberOnePages__2RZ_Y\",\"numberOneActivPages\":\"paginator_numberOneActivPages__2yB1R\",\"sortType\":\"paginator_sortType__1Xr3o\"};","import React, {useState} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport clas from './file.module.css'\r\nimport {\r\n    addComment_T, changeCommentStatus,\r\n    DeleteComment_T,\r\n    DeleteItem_T, showFullFile,\r\n} from \"../../redux/filePageReducer\";\r\nimport Preloader from '../../acces/Preloader/Preloader'\r\n\r\n\r\n\r\nconst FileItem = ({props}) => {\r\n    const [inputValue, changeInputValue] = useState('comment')\r\n    const dispatch = useDispatch()\r\n    const isAuth = useSelector(state => state.header.isAuth)\r\n    const role = useSelector(state => state.header.role)\r\n    const ChangeInputHandler = (e) => {\r\n        changeInputValue(e.currentTarget.value)\r\n    }\r\n\r\n\r\n    const enterAddComment = (e) => {\r\n        /** при нажаті на ентер також запускаєм  addCommentHandler*/\r\n        if (e.key === 'Enter') {\r\n            addCommentHandler()\r\n        }\r\n    }\r\n    const addCommentHandler = () => {\r\n        dispatch(addComment_T(inputValue, props.item._id))\r\n        /** зануляєм після відправлення**/\r\n        changeInputValue('')\r\n\r\n\r\n    }\r\n    const deleteCommentHandler = (commentId) => {\r\n        dispatch(DeleteComment_T(commentId, props.item._id))\r\n    }\r\n    const deleteFileItemHandler = () => {\r\n        dispatch(DeleteItem_T(props.item._id,props.fileType))\r\n    }\r\n    const showFullFileHandler = (e) => {\r\n        // debugger\r\n        dispatch(showFullFile(props.index))\r\n    }\r\n    const changeStatusHandler = (id, status) => {\r\n        dispatch(changeCommentStatus(id, status))\r\n    }\r\n    let thisuUser_storage_id = localStorage.getItem('userId')\r\n\r\n\r\n    // debugger\r\n    const fileSrc = props.item.image_Url_Name\r\n\r\n    const File = ()=> {\r\n        return(\r\n            props.fileType === 'foto'\r\n                ? < img className={clas.file} onClick={(e) => showFullFileHandler(e)} src={fileSrc} alt='foto'/>\r\n                : <video width='100%' controls className={clas.file} src={fileSrc}/>\r\n        )\r\n    }\r\n\r\n    const file =  (props.loading  ===true ? <Preloader/> :<File/>\r\n    )\r\n    // debugger\r\n    return (\r\n        <>\r\n            <div className={clas.fotoItem}>\r\n                <div className={clas.tittleFolder}><span className={clas.tittle}>{props.item.tittle}</span></div>\r\n                {file}\r\n                {role === 'ADMIN' && <button className={clas.deleteItem} onClick={deleteFileItemHandler}>X</button>}\r\n\r\n\r\n                <div className={clas.downItemFolder}>\r\n                    {props.item.fileComments.map((comment) => (comment.status || comment.user_storage_id === thisuUser_storage_id || role === 'ADMIN' ) &&\r\n                        <div key={comment._id} className={clas.oneComentFolder}>\r\n                                 <div className={clas.commentValue}>{comment.value}</div>\r\n\r\n\r\n\r\n                            {((comment.user_storage_id === thisuUser_storage_id) || isAuth) &&\r\n                            <div className={clas.BTNrightComment}>\r\n                                {role === 'ADMIN' &&\r\n                                <button onClick={() => deleteCommentHandler(comment._id)}>X</button>}\r\n                                {role === 'ADMIN' &&\r\n                                <button onClick={() => changeStatusHandler(comment._id, comment.status)}>\r\n                                    {comment.status ? 'shown' : 'hidden'}\r\n                                </button>}\r\n                            </div>}\r\n                        </div>\r\n                    )}\r\n\r\n                    <div className={clas.inputFolder}>\r\n                        <input className={clas.input} type=\"text\" placeholder='comment' value={inputValue}\r\n                               onKeyDown={(e) => enterAddComment(e)}\r\n                               onChange={(e) => ChangeInputHandler(e)}/>\r\n                        <button className={clas.btnADD} onClick={() => addCommentHandler()}> add</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default FileItem\r\n","import React from 'react';\r\nimport clas from './fullFoto.module.css'\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport img from '../../../acces/forFoto/2.jpg'\r\nimport { hideFullFile, toLeftFoto, toRightFoto} from \"../../../redux/filePageReducer\";\r\n\r\nconst FullFile = ({props}) => {\r\n\r\n    const display = useSelector(state => state.filePage.FullFIleDisplay)\r\n    const number = useSelector(state => state.filePage.fullFileItem)\r\n\r\n    let item = props.fileItems[number]\r\n    // debugger\r\n    let imgSrc = item!==undefined? item.image_Url_Name : ''\r\n    let dispatch = useDispatch()\r\n    const toleft = () => {\r\n             dispatch(toLeftFoto())\r\n    }\r\n    const toRight = () => {\r\n            dispatch(toRightFoto())\r\n    }\r\n    const exitHandler = () => {\r\n        dispatch(hideFullFile())\r\n    }\r\n// debugger\r\n    return (\r\n        <div className={clas.container} style={{display: (display ? 'flex' : 'none')}}>\r\n            <button className={clas.leftPoint} onClick={toleft}> {\"<\"} </button>\r\n            <img className={clas.img} src={imgSrc} alt=\"\"/>\r\n            <button className={clas.rightPoint} onClick={toRight}> {\">\"} </button>\r\n            <button  className={clas.exit} onClick={exitHandler}>X</button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FullFile;","import React from 'react';\r\nimport downloadFotoIcon from \"../../../acces/forFoto/downloadFotoIcon.png\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport clas from './popUp.module.css'\r\nimport {closePopUp, MakeNewItem} from \"../../../redux/filePageReducer\";\r\n\r\n\r\nconst PopUp = ({props}) => {\r\n    const dispatch = useDispatch()\r\n    const fileTittle = useSelector(state => state.filePage.newFileTittle)\r\n    const popupDisplay = useSelector(state => state.filePage.popupDisplay)\r\n\r\n    const closePopUpHandeler = () => {\r\n        dispatch(closePopUp('none'))\r\n    }\r\n    const onclickImgHandler = (e) => {\r\n        // debugger\r\n        for ( let i = 0;i<e.target.files.length ; i++){\r\n            dispatch(MakeNewItem(e.target.files[i], fileTittle,props.fileType))\r\n        }\r\n        closePopUpHandeler()\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className={clas.popUp} style={{display: popupDisplay}}>\r\n                <img className={clas.img} src={downloadFotoIcon} alt='error'/>\r\n                <input className={clas.close} onClick={closePopUpHandeler} value='x' type='button'/>\r\n                <input className={clas.inputFile}  multiple={true} type='file' onChange={(event => onclickImgHandler(event))} />\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\n\r\nexport default PopUp;","import React, {useState} from 'react';\r\nimport clas from './file.module.css'\r\n\r\nimport downloadFotoIcon from './../../acces/forFoto/downloadFotoIcon.png'\r\nimport {useDispatch} from \"react-redux\";\r\nimport {changeNewFileTittle, showePopUp} from \"../../redux/filePageReducer\";\r\n// import {changeNewFotoTittle, showePopUp} from \"../../redux/fotoPageReducer\";\r\n\r\nconst AddFileItem = () => {\r\n    const dispatch = useDispatch()\r\n\r\nconst[tittle,changeTittle]= useState('');\r\n\r\n    const showPopupHandler=()=>{\r\n        // debugger\r\n        dispatch(  changeNewFileTittle(tittle))\r\n\r\n        /**  і сетаєм нову tittle в редюсер*/\r\n        dispatch(showePopUp('flex'))\r\n\r\n    }\r\n    return (<>\r\n        <div className={clas.fotoItemDownload}>\r\n            <div className={clas.image_upload}>\r\n                <img className={clas.imgDiv} width='100%' src={downloadFotoIcon} alt='foto'\r\n                onClick={showPopupHandler}/>\r\n            </div>\r\n            <input className={clas.inputTittle} type=\"text\" value={tittle} onChange={(e)=>changeTittle(e.target.value)}/>\r\n        </div>\r\n\r\n    </>)\r\n};\r\n\r\nexport default AddFileItem;","import React, {useEffect, useState} from \"react\";\r\nimport clas from './paginator.module.css'\r\nimport {changeLoading, DownloadFilePage, setRequestPage} from \"../../redux/filePageReducer\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {Link, useHistory, useParams} from \"react-router-dom\";\r\n\r\n\r\nconst Paginator = ({props}) => {\r\n    let dispatch = useDispatch()\r\n    let {totalItemsCount, fileType, sortType, changeSortTypeHandler,\r\n        ReduceRequestPage, reducerPageSize} = {...props}\r\n    let [pageZise, changePageSize] = useState(reducerPageSize);\r\n    let portionSize = 10;\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageZise)\r\n\r\n    const pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n    let [requestPage, changerequestPage] = useState(ReduceRequestPage)\r\n    let {page} = useParams();\r\n\r\n\r\n\r\n    function changePageSizeHandler(newPageSize) {\r\n        newPageSize = Number(newPageSize)\r\n        if (newPageSize === 0) {\r\n            newPageSize = 1\r\n        }\r\n        let timerId = null;\r\n\r\n        function makeChange(newPageSize) {\r\n            changePageSize(newPageSize)\r\n            OnPageChange(1, newPageSize)\r\n        }\r\n\r\n        function makeChangeWithTime(newPageSize) {\r\n            clearTimeout(timerId)\r\n            timerId = setTimeout(() => {\r\n                done = false\r\n                makeChange(newPageSize)\r\n            }, 200)\r\n        }\r\n\r\n        let done = false;\r\n        makeChangeWithTime(newPageSize)\r\n        if (!done) {\r\n            clearTimeout(timerId)\r\n            makeChangeWithTime(newPageSize)\r\n        }\r\n        return undefined;\r\n    }\r\n\r\n    let startPageNumber =    Number((useHistory().location.pathname.split('=')[1]))\r\n\r\n    const OnPageChange = (requestPage, pageZise) => {\r\n       dispatch((changeLoading(true)))\r\n        changerequestPage(requestPage)\r\n        pagesCount = (Math.ceil(totalItemsCount / pageZise))\r\n        dispatch(DownloadFilePage(fileType, sortType, ((startPageNumber - 1) * pageZise), pageZise))\r\n        dispatch((changeLoading(false)))\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        dispatch((changeLoading(true)))\r\n\r\n        dispatch(setRequestPage(startPageNumber ===0?1:startPageNumber))\r\n\r\n        OnPageChange(requestPage, pageZise)\r\n        // debugger\r\n\r\n    }, [dispatch,fileType,sortType,requestPage,pageZise])\r\n\r\n    return <div className={clas.pagintotrFolder}>\r\n        <div className={clas.leftItem}>\r\n\r\n            <div >кількість сторінок:<span className={clas.itemValue}>{pagesCount}</span></div>\r\n\r\n            <div>розмір сторінки: <span className={clas.itemValue}>{\r\n                <input className={clas.inp}\r\n                       value={pageZise}\r\n                       type=\"number\" placeholder='змінити  розмір'\r\n                       onChange={event => changePageSizeHandler(event.currentTarget.value)}\r\n\r\n                />}\r\n            </span></div>\r\n\r\n        </div>\r\n        <div className={clas.item}>\r\n            {portionNumber > 1 && <button className={clas.inp} onClick={() => {\r\n                setPortionNumber(portionNumber - 1)\r\n            }}>PREV</button>}\r\n            <div className={clas.numberPages}>\r\n                {pages\r\n                    .filter((p) => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                    .map((p) => {\r\n                        return(\r\n                            <Link key={p}\r\n                                onClick={(e) => {OnPageChange(p, pageZise);}}\r\n                                className={p === Number (page) ? clas.numberOneActivPages : clas.numberOnePages}\r\n                                  to={'page=' + String(p)}>\r\n                            <div >\r\n                                    {p}\r\n                            </div>\r\n                    </Link>\r\n\r\n                    )\r\n                    })}\r\n            </div>\r\n\r\n            {\r\n                portionCount > portionNumber &&\r\n                <button className={clas.inp} onClick={() => {\r\n                    setPortionNumber(portionNumber + 1)\r\n                }}>NEXT</button>}\r\n        </div>\r\n\r\n        <div className={clas.item}>\r\n            сортувати за:\r\n            <div className={clas.sortType} onClick={changeSortTypeHandler}>\r\n                <button>\r\n                    {sortType === 'ASC' ? <span>зростанням</span> : <span>спаданням</span>}\r\n                </button>\r\n            </div>\r\n\r\n\r\n        </div>\r\n\r\n    </div>\r\n}\r\n\r\nexport default Paginator\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import FileItem from \"./fileItem\";\r\nimport clas from './file.module.css'\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {changeSortType, DownloadFilePage} from \"../../redux/filePageReducer\";\r\nimport FullFile from \"./fullFoto/FullFile\";\r\nimport PopUp from \"./PopUp/PopUp\";\r\nimport AddFileItem from \"./AddFileItem\";\r\nimport Paginator from \"../../acces/Paginator/Paginator\";\r\n\r\nconst File = ({props}) => {\r\n    let fileType = props.fileType\r\n\r\n    // debugger\r\n    const fileItems =  useSelector(state=>  state.filePage.fileItems)\r\n    const sortType =  useSelector(state=>  state.filePage.sortType)\r\n    const loading =  useSelector(state=>  state.filePage.loading)\r\n\r\n    const totalItemsCount =  useSelector(state=>  state.filePage.totalItemsCount)\r\n    const PageSize =  useSelector(state=>  state.filePage.PageSize)\r\n    const requestPage =  useSelector(state=>  state.filePage.requestPage)\r\n\r\n\r\n    const dispatch = useDispatch()\r\n    const role = useSelector(state => state.header.role)\r\n\r\n\r\n\r\n    const changeSortTypeHandler = () => {\r\n        let newSortType;\r\n        if(sortType ==='ASC') {\r\n            newSortType = 'DESC'\r\n        }else if(sortType ==='DESC'){\r\n            newSortType = 'ASC'\r\n        }else { alert('error')}\r\n        dispatch(changeSortType(newSortType))\r\n    }\r\n// debugger\r\n\r\n    return <>\r\n        <div className={clas.fotoPage}>\r\n            <div className={clas.navContainer} >\r\n                <Paginator props={{totalItemsCount:totalItemsCount\r\n                    ,DownloadFilePage,\r\n                    fileType:fileType,\r\n                    sortType:sortType,\r\n                    changeSortTypeHandler,\r\n                    ReduceRequestPage:requestPage,\r\n                    reducerPageSize:PageSize,\r\n                                    }}/>\r\n            </div>\r\n            {fileItems.map((item,index) =>\r\n            <div key={item._id} className={clas.itemContainer}>\r\n                {fileType === item.fileType && <FileItem  props={{item, index,fileType,loading}}/>}\r\n\r\n            </div>\r\n            )}\r\n            {role === 'ADMIN' &&\r\n            <div className={clas.itemContainer}>\r\n                <AddFileItem props={{fileType}}/>\r\n            </div>}\r\n            <PopUp  props={{fileType}}/>\r\n            <FullFile props={{fileItems, fileType}}/>\r\n\r\n        </div>\r\n\r\n    </>\r\n}\r\nexport default File\r\n"],"sourceRoot":""}